{% load ayat_extras%}


<div class="text-center">
    <button type="button" class="btn btn-light"><h2 class="uthm2">{{ surah_name }}</h2></button>

</div>

<br>
    
    <canvas id="myCanvas" ></canvas>

<script>
    img = new Image()

    img.src = "{{ image_url }}"


    
    
    img.onload = function(){
        var c = document.getElementById("myCanvas");
        c.width = img.naturalWidth
        c.height = img.naturalHeight
        var ctx = c.getContext("2d");
        ctx.drawImage(img ,0,0)
        scale = 1260 / img.width
        {% for data  in gcoords %}
            ctx.moveTo({{ data.0 }} / scale, {{ data.2 }} / scale)    
            ctx.lineTo({{ data.1 }} / scale, {{ data.2 }} / scale)
            ctx.lineTo({{ data.1 }} / scale, {{ data.3 }} / scale)
            ctx.lineTo({{ data.0 }} / scale, {{ data.3 }} / scale)
            ctx.lineTo({{ data.0 }} / scale, {{ data.2 }} / scale)    
            ctx.stroke()
        {% endfor %}
    }

</script>